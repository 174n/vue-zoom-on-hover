/*!
 * vue-zoom-on-hover v1.0.2
 * (c) Ivan Alexandrov
 * Released under the GPL-3.0 License.
 */
/*!
 * vue-zoom-on-hover v1.0.2
 * (c) Ivan Alexandrov
 * Released under the GPL-3.0 License.
 */
"use strict";var e={props:["imgNormal","imgZoom","scale","disabled","altText"],data:function(){return{scaleFactor:1,resizeCheckInterval:null,zoomed:!1}},methods:{pageOffset:function(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{y:t.top+n,x:t.left+o}},touchzoom:function(e){this.disabled||(this.zoomed="pointerover"===e.type,this.move(e))},zoom:function(){this.disabled||(this.zoomed=!0)},unzoom:function(){this.disabled||(this.zoomed=!1)},move:function(e){var t=this.$refs.zoom,o=this.$refs.normal;if(!this.disabled&&this.zoomed&&t&&o){var n=this.pageOffset(this.$el),i=e.clientX-n.x+window.pageXOffset,s=e.clientY-n.y+window.pageYOffset,a=i/o.offsetWidth,r=s/o.offsetHeight,d=a*(t.offsetWidth*this.scaleFactor-o.offsetWidth),l=r*(t.offsetHeight*this.scaleFactor-o.offsetHeight);t.style.left=-d+"px",t.style.top=-l+"px"}},initEventLoaded:function(){var e=[this.$refs.zoom,this.$refs.normal].map((function(e){return new Promise((function(t,o){e.addEventListener("load",t),e.addEventListener("error",o)}))})),t=this;Promise.all(e).then((function(){t.$emit("loaded")}))},initEventResized:function(){var e=this.$refs.normal,t=e.offsetWidth,o=e.offsetHeight,n=this;this.resizeCheckInterval=setInterval((function(){t==e.offsetWidth&&o==e.offsetHeight||(t=e.offsetWidth,o=e.offsetHeight,n.$emit("resized",{width:e.width,height:e.height,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}))}),1e3)}},mounted:function(){this.$props.scale&&(this.scaleFactor=parseInt(this.$props.scale),this.$refs.zoom.style.transform="scale("+this.scaleFactor+")"),this.initEventLoaded(),this.initEventResized()},updated:function(){this.initEventLoaded()},beforeDestroy:function(){this.resizeCheckInterval&&clearInterval(this.resizeCheckInterval)}};function t(e,t,o,n,i,s,a,r,d,l){"boolean"!=typeof a&&(d=r,r=a,a=!1);const c="function"==typeof o?o.options:o;let m;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),n&&(c._scopeId=n),s?(m=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=m):t&&(m=a?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),m)if(c.functional){const e=c.render;c.render=function(t,o){return m.call(o),e(t,o)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,m):[m]}return o}const o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function n(e){return(e,t)=>function(e,t){const n=o?t.media||"default":e,a=s[n]||(s[n]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);let o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",t.media&&a.element.setAttribute("media",t.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(o),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{const e=a.ids.size-1,t=document.createTextNode(o),n=a.element.childNodes;n[e]&&a.element.removeChild(n[e]),n.length?a.element.insertBefore(t,n[e]):a.element.appendChild(t)}}}(e,t)}let i;const s={};var a=t({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"zoom-on-hover",class:{zoomed:e.zoomed},on:{pointerover:e.touchzoom,pointerout:e.touchzoom,pointermove:e.move,pointerenter:e.zoom,pointerleave:e.unzoom}},[o("img",{ref:"normal",staticClass:"normal",attrs:{src:e.imgNormal,alt:e.altText}}),e._v(" "),o("img",{ref:"zoom",staticClass:"zoom",attrs:{src:e.imgZoom||e.imgNormal,alt:e.altText}})])},staticRenderFns:[]},(function(e){e&&e("data-v-52bcca23_0",{source:".zoom-on-hover[data-v-52bcca23]{position:relative;overflow:hidden}.zoom-on-hover .normal[data-v-52bcca23]{width:100%}.zoom-on-hover .zoom[data-v-52bcca23]{position:absolute;opacity:0;transform-origin:top left}.zoom-on-hover.zoomed .zoom[data-v-52bcca23]{opacity:1}.zoom-on-hover.zoomed .normal[data-v-52bcca23]{opacity:0}",map:void 0,media:void 0})}),e,"data-v-52bcca23",!1,void 0,!1,n,void 0,void 0),r={install:function(e,t){e.component("zoom-on-hover",a)}};module.exports=r;
//# sourceMappingURL=index.min.js.map
