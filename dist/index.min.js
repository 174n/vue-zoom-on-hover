/*!
 * vue-zoom-on-hover v1.0.2
 * (c) Ivan Alexandrov
 * Released under the GPL-3.0 License.
 */
"use strict";var script={props:["imgNormal","imgZoom","scale","disabled"],data:function(){return{scaleFactor:1,resizeCheckInterval:null,zoomed:!1}},methods:{pageOffset:function(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{y:t.top+n,x:t.left+o}},touchzoom:function(e){this.disabled||(this.move(e),this.zoomed=!this.zoomed)},zoom:function(){this.disabled||(this.zoomed=!0)},unzoom:function(){this.disabled||(this.zoomed=!1)},move:function(e){var t=this.$refs.zoom,o=this.$refs.normal;if(!this.disabled&&this.zoomed&&t&&o){var n=this.pageOffset(this.$el),i=e.clientX-n.x+window.pageXOffset,s=e.clientY-n.y+window.pageYOffset,a=i/o.offsetWidth,r=s/o.offsetHeight,d=a*(t.offsetWidth*this.scaleFactor-o.offsetWidth),l=r*(t.offsetHeight*this.scaleFactor-o.offsetHeight);t.style.left=-d+"px",t.style.top=-l+"px"}},initEventLoaded:function(){var e=[this.$refs.zoom,this.$refs.normal].map(function(e){return new Promise(function(t,o){e.addEventListener("load",t),e.addEventListener("error",o)})}),t=this;Promise.all(e).then(function(){t.$emit("loaded")})},initEventResized:function(){var e=this.$refs.normal,t=e.offsetWidth,o=e.offsetHeight,n=this;this.resizeCheckInterval=setInterval(function(){t==e.offsetWidth&&o==e.offsetHeight||(t=e.offsetWidth,o=e.offsetHeight,n.$emit("resized",{width:e.width,height:e.height,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}))},1e3)}},mounted:function(){this.$props.scale&&(this.scaleFactor=parseInt(this.$props.scale),this.$refs.zoom.style.transform="scale("+this.scaleFactor+")"),this.initEventLoaded(),this.initEventResized()},updated:function(){this.initEventLoaded()},beforeDestroy:function(){this.resizeCheckInterval&&clearInterval(this.resizeCheckInterval)}};function normalizeComponent(e,t,o,n,i,s,a,r,d,l){"boolean"!=typeof a&&(d=r,r=a,a=!1);var m,c="function"==typeof o?o.options:o;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),n&&(c._scopeId=n),s?(m=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=m):t&&(m=a?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),m)if(c.functional){var f=c.render;c.render=function(e,t){return m.call(t),f(e,t)}}else{var _=c.beforeCreate;c.beforeCreate=_?[].concat(_,m):[m]}return o}var HEAD,normalizeComponent_1=normalizeComponent,isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(e){return function(e,t){return addStyle(e,t)}}var styles={};function addStyle(e,t){var o=isOldIE?t.media||"default":e,n=styles[o]||(styles[o]={ids:new Set,styles:[]});if(!n.ids.has(e)){n.ids.add(e);var i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",t.media&&n.element.setAttribute("media",t.media),void 0===HEAD&&(HEAD=document.head||document.getElementsByTagName("head")[0]),HEAD.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(i),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{var s=n.ids.size-1,a=document.createTextNode(i),r=n.element.childNodes;r[s]&&n.element.removeChild(r[s]),r.length?n.element.insertBefore(a,r[s]):n.element.appendChild(a)}}}var browser=createInjector,__vue_script__=script,__vue_render__=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"zoom-on-hover",class:{zoomed:e.zoomed},on:{touchstart:e.touchzoom,mousemove:e.move,mouseenter:e.zoom,mouseleave:e.unzoom}},[o("img",{ref:"normal",staticClass:"normal",attrs:{src:e.imgNormal}}),e._v(" "),o("img",{ref:"zoom",staticClass:"zoom",attrs:{src:e.imgZoom||e.imgNormal}})])},__vue_staticRenderFns__=[],__vue_inject_styles__=function(e){e&&e("data-v-5a7b7ad4_0",{source:".zoom-on-hover[data-v-5a7b7ad4]{position:relative;overflow:hidden}.zoom-on-hover .normal[data-v-5a7b7ad4]{width:100%}.zoom-on-hover .zoom[data-v-5a7b7ad4]{position:absolute;opacity:0;transform-origin:top left}.zoom-on-hover.zoomed .zoom[data-v-5a7b7ad4]{opacity:1}.zoom-on-hover.zoomed .normal[data-v-5a7b7ad4]{opacity:0}",map:void 0,media:void 0})},__vue_scope_id__="data-v-5a7b7ad4",__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,ZoomOnHover=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,browser,void 0),index={install:function(e,t){e.component("zoom-on-hover",ZoomOnHover)}};module.exports=index;
//# sourceMappingURL=index.min.js.map
